{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EmailInput = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _input = require(\"./input\");\n\nvar validateEmail = function validateEmail(email) {\n  var re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return re.test(email);\n};\n\nvar EmailInput = function EmailInput(_ref) {\n  var value = _ref.value,\n      onChange = _ref.onChange,\n      name = _ref.name,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 'default' : _ref$size;\n\n  var _useState = (0, _react.useState)(true),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      fieldDisabled = _useState2[0],\n      setDisabled = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var inputRef = (0, _react.useRef)(null);\n\n  var onIconClick = function onIconClick() {\n    setDisabled(false);\n    setTimeout(function () {\n      var _inputRef$current;\n\n      return (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n    }, 0);\n  };\n\n  var validateField = function validateField(value) {\n    setError(!validateEmail(value));\n  };\n\n  var onFocus = function onFocus() {\n    setError(false);\n  };\n\n  var onBlur = function onBlur(e) {\n    if (e.target.value) {\n      validateField(e.target.value);\n    } else {\n      setError(false);\n    }\n\n    setDisabled(true);\n  };\n\n  return /*#__PURE__*/_react.default.createElement(_input.Input, {\n    type: \"email\",\n    placeholder: \"Email\",\n    onChange: onChange,\n    icon: 'EditIcon',\n    value: value,\n    ref: inputRef,\n    onBlur: onBlur,\n    onFocus: onFocus,\n    name: name,\n    error: error,\n    disabled: fieldDisabled,\n    onIconClick: onIconClick,\n    errorText: 'Ой, произошла ошибка!',\n    size: size\n  });\n};\n\nexports.EmailInput = EmailInput;\nEmailInput.displayName = \"EmailInput\";","map":{"version":3,"sources":["/Users/peta/WebstormProjects/react-burger/node_modules/@ya.praktikum/react-developer-burger-ui-components/dist/ui/email-input.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","EmailInput","_slicedToArray2","_react","_input","validateEmail","email","re","test","_ref","onChange","name","_ref$size","size","_useState","useState","_useState2","default","fieldDisabled","setDisabled","_useState3","_useState4","error","setError","inputRef","useRef","onIconClick","setTimeout","_inputRef$current","current","focus","validateField","onFocus","onBlur","e","target","createElement","Input","type","placeholder","icon","ref","disabled","errorText","displayName"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.EmailInput=void 0;require(\"core-js/modules/es.function.name.js\");var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _react=_interopRequireWildcard(require(\"react\"));var _input=require(\"./input\");var validateEmail=function validateEmail(email){var re=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return re.test(email);};var EmailInput=function EmailInput(_ref){var value=_ref.value,onChange=_ref.onChange,name=_ref.name,_ref$size=_ref.size,size=_ref$size===void 0?'default':_ref$size;var _useState=(0,_react.useState)(true),_useState2=(0,_slicedToArray2.default)(_useState,2),fieldDisabled=_useState2[0],setDisabled=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2.default)(_useState3,2),error=_useState4[0],setError=_useState4[1];var inputRef=(0,_react.useRef)(null);var onIconClick=function onIconClick(){setDisabled(false);setTimeout(function(){var _inputRef$current;return(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();},0);};var validateField=function validateField(value){setError(!validateEmail(value));};var onFocus=function onFocus(){setError(false);};var onBlur=function onBlur(e){if(e.target.value){validateField(e.target.value);}else{setError(false);}setDisabled(true);};return/*#__PURE__*/_react.default.createElement(_input.Input,{type:\"email\",placeholder:\"Email\",onChange:onChange,icon:'EditIcon',value:value,ref:inputRef,onBlur:onBlur,onFocus:onFocus,name:name,error:error,disabled:fieldDisabled,onIconClick:onIconClick,errorText:'Ой, произошла ошибка!',size:size});};exports.EmailInput=EmailInput;EmailInput.displayName=\"EmailInput\";"]},"metadata":{},"sourceType":"script"}